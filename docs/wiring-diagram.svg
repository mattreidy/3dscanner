<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 520" font-family="Consolas, monospace" font-size="13">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" fill="none" stroke="#aaa" stroke-width="1.5"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="520" rx="8" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="400" y="32" text-anchor="middle" fill="#e0e0e0" font-size="16" font-weight="bold">3DScanner Wiring Diagram</text>
  <text x="400" y="50" text-anchor="middle" fill="#888" font-size="11">Shared I2C Bus — 400kHz Fast Mode — 3.3V Logic</text>

  <!-- ============ ESP32-S3 ============ -->
  <rect x="30" y="80" width="200" height="180" rx="6" fill="#2a2a4a" stroke="#6c63ff" stroke-width="2"/>
  <text x="130" y="102" text-anchor="middle" fill="#6c63ff" font-size="14" font-weight="bold">ESP32-S3-DevKitC-1</text>
  <text x="130" y="120" text-anchor="middle" fill="#888" font-size="10">240MHz Dual-Core, 8MB Flash</text>

  <text x="50" y="148" fill="#e0e0e0" font-size="12">GPIO 8</text>
  <rect x="140" y="136" width="60" height="18" rx="3" fill="#3a7ca5"/>
  <text x="170" y="150" text-anchor="middle" fill="#fff" font-size="11">SDA</text>

  <text x="50" y="174" fill="#e0e0e0" font-size="12">GPIO 9</text>
  <rect x="140" y="162" width="60" height="18" rx="3" fill="#d4a03c"/>
  <text x="170" y="176" text-anchor="middle" fill="#fff" font-size="11">SCL</text>

  <text x="50" y="200" fill="#e0e0e0" font-size="12">3V3</text>
  <rect x="140" y="188" width="60" height="18" rx="3" fill="#c0392b"/>
  <text x="170" y="202" text-anchor="middle" fill="#fff" font-size="11">3.3V</text>

  <text x="50" y="226" fill="#e0e0e0" font-size="12">GND</text>
  <rect x="140" y="214" width="60" height="18" rx="3" fill="#555"/>
  <text x="170" y="228" text-anchor="middle" fill="#fff" font-size="11">GND</text>

  <!-- ============ I2C Bus Lines ============ -->
  <!-- SDA line -->
  <line x1="200" y1="145" x2="310" y2="145" stroke="#3a7ca5" stroke-width="2.5"/>
  <line x1="310" y1="105" x2="310" y2="430" stroke="#3a7ca5" stroke-width="2.5"/>

  <!-- SCL line -->
  <line x1="200" y1="171" x2="330" y2="171" stroke="#d4a03c" stroke-width="2.5"/>
  <line x1="330" y1="105" x2="330" y2="430" stroke="#d4a03c" stroke-width="2.5"/>

  <!-- Bus labels -->
  <text x="310" y="95" text-anchor="middle" fill="#3a7ca5" font-size="10">SDA</text>
  <text x="330" y="95" text-anchor="middle" fill="#d4a03c" font-size="10">SCL</text>

  <!-- 3V3 line -->
  <line x1="200" y1="197" x2="280" y2="197" stroke="#c0392b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="280" y1="105" x2="280" y2="430" stroke="#c0392b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="280" y="95" text-anchor="middle" fill="#c0392b" font-size="10">3V3</text>

  <!-- GND line -->
  <line x1="200" y1="223" x2="260" y2="223" stroke="#555" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="260" y1="105" x2="260" y2="430" stroke="#555" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="260" y="95" text-anchor="middle" fill="#666" font-size="10">GND</text>

  <!-- ============ BNO085 ============ -->
  <rect x="390" y="80" width="190" height="130" rx="6" fill="#2a2a4a" stroke="#800080" stroke-width="2"/>
  <text x="485" y="102" text-anchor="middle" fill="#800080" font-size="14" font-weight="bold">GY-BNO085</text>
  <text x="485" y="120" text-anchor="middle" fill="#888" font-size="10">9-DOF IMU — 100Hz Quaternion</text>

  <!-- BNO085 pins -->
  <text x="410" y="148" fill="#e0e0e0" font-size="11">I2C Addr</text>
  <text x="520" y="148" fill="#c8c8c8" font-size="11">0x4A / 0x4B</text>

  <text x="410" y="168" fill="#3a7ca5" font-size="11">SDA</text>
  <text x="410" y="188" fill="#d4a03c" font-size="11">SCL</text>

  <!-- BNO085 bus connections -->
  <line x1="310" y1="165" x2="405" y2="165" stroke="#3a7ca5" stroke-width="1.5"/>
  <circle cx="310" cy="165" r="3" fill="#3a7ca5"/>
  <line x1="330" y1="185" x2="405" y2="185" stroke="#d4a03c" stroke-width="1.5"/>
  <circle cx="330" cy="185" r="3" fill="#d4a03c"/>

  <!-- Power taps for BNO085 -->
  <line x1="280" y1="138" x2="405" y2="138" stroke="#c0392b" stroke-width="1" stroke-dasharray="4,3"/>
  <circle cx="280" cy="138" r="2.5" fill="#c0392b"/>
  <text x="540" y="148" fill="#c0392b" font-size="9"/>

  <!-- ============ TCA9548A ============ -->
  <rect x="390" y="240" width="190" height="130" rx="6" fill="#2a2a4a" stroke="#27ae60" stroke-width="2"/>
  <text x="485" y="262" text-anchor="middle" fill="#27ae60" font-size="14" font-weight="bold">TCA9548A</text>
  <text x="485" y="280" text-anchor="middle" fill="#888" font-size="10">I2C Multiplexer — 8 Channels</text>

  <text x="410" y="308" fill="#e0e0e0" font-size="11">I2C Addr</text>
  <text x="520" y="308" fill="#c8c8c8" font-size="11">0x70</text>

  <text x="410" y="328" fill="#3a7ca5" font-size="11">SDA (in)</text>
  <text x="410" y="348" fill="#d4a03c" font-size="11">SCL (in)</text>

  <!-- TCA bus connections -->
  <line x1="310" y1="325" x2="405" y2="325" stroke="#3a7ca5" stroke-width="1.5"/>
  <circle cx="310" cy="325" r="3" fill="#3a7ca5"/>
  <line x1="330" y1="345" x2="405" y2="345" stroke="#d4a03c" stroke-width="1.5"/>
  <circle cx="330" cy="345" r="3" fill="#d4a03c"/>

  <!-- Power taps for TCA -->
  <line x1="280" y1="298" x2="405" y2="298" stroke="#c0392b" stroke-width="1" stroke-dasharray="4,3"/>
  <circle cx="280" cy="298" r="2.5" fill="#c0392b"/>

  <!-- ============ VL53L5CX Sensors ============ -->
  <!-- Sensor 1 -->
  <rect x="620" y="220" width="160" height="70" rx="6" fill="#2a2a4a" stroke="#006400" stroke-width="2"/>
  <text x="700" y="242" text-anchor="middle" fill="#006400" font-size="13" font-weight="bold">VL53L5CX #1</text>
  <text x="700" y="258" text-anchor="middle" fill="#888" font-size="10">8x8 ToF — up to 4m</text>
  <text x="700" y="278" text-anchor="middle" fill="#c8c8c8" font-size="10">I2C 0x29 via Ch 0</text>

  <!-- Mux output to sensor 1 -->
  <line x1="580" y1="255" x2="620" y2="255" stroke="#3a7ca5" stroke-width="1.5"/>
  <line x1="580" y1="265" x2="620" y2="265" stroke="#d4a03c" stroke-width="1.5"/>
  <text x="598" y="250" fill="#3a7ca5" font-size="9">SD</text>
  <text x="598" y="272" fill="#d4a03c" font-size="9">SC</text>

  <!-- Sensor 2-10 placeholder -->
  <rect x="620" y="310" width="160" height="70" rx="6" fill="#2a2a4a" stroke="#006400" stroke-width="1.5" stroke-dasharray="6,4"/>
  <text x="700" y="337" text-anchor="middle" fill="#006400" font-size="13">VL53L5CX #2-10</text>
  <text x="700" y="357" text-anchor="middle" fill="#666" font-size="10">Planned — via Ch 1-9</text>

  <!-- Mux output to sensors 2-10 -->
  <line x1="580" y1="345" x2="620" y2="345" stroke="#3a7ca5" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="580" y1="355" x2="620" y2="355" stroke="#d4a03c" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- ============ Legend ============ -->
  <rect x="30" y="420" width="540" height="80" rx="6" fill="#222244" stroke="#444" stroke-width="1"/>
  <text x="50" y="442" fill="#e0e0e0" font-size="12" font-weight="bold">Legend</text>

  <line x1="50" y1="460" x2="90" y2="460" stroke="#3a7ca5" stroke-width="2.5"/>
  <text x="98" y="464" fill="#e0e0e0" font-size="11">SDA (I2C Data)</text>

  <line x1="220" y1="460" x2="260" y2="460" stroke="#d4a03c" stroke-width="2.5"/>
  <text x="268" y="464" fill="#e0e0e0" font-size="11">SCL (I2C Clock)</text>

  <line x1="400" y1="460" x2="440" y2="460" stroke="#c0392b" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="448" y="464" fill="#e0e0e0" font-size="11">3.3V Power</text>

  <line x1="50" y1="485" x2="90" y2="485" stroke="#555" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="98" y="489" fill="#e0e0e0" font-size="11">GND</text>

  <circle cx="235" cy="485" r="3" fill="#3a7ca5"/>
  <text x="248" y="489" fill="#e0e0e0" font-size="11">Bus tap (shared connection)</text>

  <rect x="400" y="477" width="30" height="14" rx="3" fill="none" stroke="#006400" stroke-width="1.5" stroke-dasharray="6,4"/>
  <text x="438" y="489" fill="#e0e0e0" font-size="11">Planned component</text>
</svg>